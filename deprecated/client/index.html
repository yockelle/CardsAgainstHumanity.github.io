<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Game</title>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <link rel="stylesheet" type="text/css" href="/client/mainStyle.css">
    <script>
        //Bring in socket.io
        var socket = io();

        function makeNewCards(cardText) {
            let mainDiv = document.createElement('div');
            mainDiv.className = 'card';

            let image = document.createElement("IMG");
            image.setAttribute("src", "/client/CAH_Logo.png");
            image.setAttribute("width", "100%");
            image.setAttribute("alt", "Avatar");


            let insideDiv = document.createElement('div');
            insideDiv.className = 'container';
            let h4 = document.createElement('H4')
            let boldText = document.createElement('strong').appendChild(document.createTextNode(cardText));
            h4.appendChild(boldText);

            insideDiv.appendChild(h4);
            insideDiv.appendChild(document.createElement("P").appendChild(document.createTextNode("Player Card")))
            
            mainDiv.appendChild(image);
            mainDiv.appendChild(insideDiv);

            document.getElementById("CardDisplayField").appendChild(mainDiv);

        }

        //listen for stuff from server
        socket.on('DEBUG_PLAYER', function(data) {
            console.log(data);
        });
        socket.on('DEBUG_ALL_PLAYER', function(data) {
            console.log(data);
        });

       socket.on('PLAYER_CARD', function(data) {
            makeNewCards(data);
            console.log(data);
        });

        //if user presses debug player button, then:
        var debugPlayerButton = function() {
            //fire a debugPlayerButton request
            socket.emit("debugPlayerButton");
        }

        //if user presses debug player button, then:
        var debugAllPlayerButton = function() {
            //fire a debugPlayerButton request
            socket.emit("debugALLPlayerButton");
        }

        var getCardsButton = function() {
            //fire a getCards request to server
            socket.emit("getCardsButton");
        }

    </script>
</head>
<body>
    <button onclick="debugPlayerButton()">Debug Player</button>
    <button onclick="debugAllPlayerButton()">Debug All Player</button>
    <hr>

    <div id="CardDisplayField">
        <!-- <div class="card">
            <img src="/client/CAH_Logo.png" alt="Avatar" style="width:100%">
            <div class="container">
              <h4><b>John adfasdfasdfaasdasdfaasdfaasdfaasdfaasdfaasdfaasdfaasdfaasdfaasdfafaDoe</b></h4> 
              <p>Player Cards</p> 
            </div>
          </div>
          <div class="card">
            <img src="/client/CAH_Logo.png" alt="Avatar" style="width:100%">
            <div class="container">
              <h4><b>John Doe</b></h4> 
              <p>Player Cards</p> 
            </div>
          </div> -->
    </div>
    
    <button class="button" onclick="getCardsButton()">Get Cards</button>


</body>
</html>